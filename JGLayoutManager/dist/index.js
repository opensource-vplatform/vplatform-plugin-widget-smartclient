!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";isc.ClassFactory.defineInterface("JGLayoutManager"),isc.JGLayoutManager.addInterfaceProperties({_Layout:null}),isc.JGLayoutManager.addInterfaceMethods({_processRect:function(t,e){if("Fill"==this.Dock)return"100%";if("string"==typeof t){if("content"==t)return null;if("space"==t)return"100%";if(t.endsWith("%"))return t;if(t.endsWith("px"))return parseInt(t)}return t},_forEach:function(t,e,i,a){if(t&&t.length>0)for(var s=i=i||0,n=t.length;s<n&&!1!==e.call(a,t[s],s,t);s++);},layoutChildWidgets:function(t,e){var i,a=[];if(this.isOldWindowLayoutConfig&&this.isOldWindowLayoutConfig())if("BorderLayout"==this.LayoutType){var s=this.createLayoutById(this.scopeId+"_"+this.Code);i=this.buildBorderLayoutById(s),a.push(s),this._resetAbsWidgetPlace(i.absLayout),(c=this._layoutAbsoluteChildren(i))&&(a=a.concat(c))}else a=this._getChildrenWidget(t);else{var n=!0;if("BorderLayout"==this.LayoutType){window.console&&window.console.warn("当前窗体是新布局窗体，还存在BorderLayout");s=this.createLayoutById(this.scopeId+"_"+this.Code);i=this.buildBorderLayoutById(s),a.push(s)}else{if(isc.JGLayoutManager._useNewLayout){var r=isc.WidgetContext.getChildrenIds(this.scopeId,t||this.widgetId),o=[];return this._forEach(r,(function(t){var e=isc.WidgetUtils.genWidgetRefId(this.scopeId,t),i=isc.JGWidgetManager.getWidget(e);i&&o.push(i)}),null,this),this._newLayoutChildren(o,e||this.getOrginalRect())}i=this._catalogChildren(t);var h=this._getChildrenLayoutDirection(i);if(this._setDockChildRect(i),"horizontal"==h){s=this._createHorizontalLayoutByCatalog(i);a.push(s)}else if("vertical"==h){s=this._createVerticalLayoutByCatalog(i);a.push(s)}if("JGGroupPanel"==this.type&&"Vertical"==this.ContentAlignment){var c,l=[];(c=this._layoutAbsoluteChildren(i))&&c.length>0&&(n=!1,l=this.analyzeVLayoutChild(c,!0),a=a.concat(l))}}if(n)(c=this._layoutAbsoluteChildren(i))&&(a=a.concat(c))}return a},_resetAbsWidgetPlace:function(t){if(t&&!(t.length<1))for(var e=0,i=t.length;e<i;e++){var a=t[e],s=a.getOrginalRect();a.setWidth(s[0]),a.setHeight(s[1])}},_getChildrenWidget:function(t){var e=[];t=t||this.widgetId;this.scopeId;var i=isc.WidgetContext.getChildrenIds(this.scopeId,t);return this._forEach(i,(function(t,i){var a=isc.WidgetUtils.genWidgetRefId(this.scopeId,t),s=isc.JGWidgetManager.getWidget(a);if(s){var n=s.getOrginalRect();s.setWidth(n[0]),s.setHeight(n[1]),e.push(s),this.addWidgets&&this.addWidgets(this,s),(this.ReadOnly||this.isReadOnly&&this.isReadOnly())&&s.parentReadOnly&&s.parentReadOnly(!0),(0==this.Enabled||this.isDisabled&&this.isDisabled())&&s.parentDisabled&&s.parentDisabled(!0)}}),0,this),e},_catalogChildren:function(t,e){t=t||this.widgetId;var i=isc.WidgetContext.getChildrenIds(this.scopeId,t),a={};return this._forEach(i,(function(t,i){var s=isc.WidgetUtils.genWidgetRefId(this.scopeId,t),n=isc.JGWidgetManager.getWidget(s);if(n)switch(this.getChildDock(n)){case"Top":if(e)e.members[0].addMember(n);else{var r=a.vLayout||[];a.vLayout=r,r.push(n)}break;case"Bottom":if(e)e.members[2].addMember(n);else{r=a.vLayout||[];a.vLayout=r,r.push(n)}break;case"Left":if(e)e.members[1].members[0].addMember(n);else{r=a.hLayout||[];a.hLayout=r,r.push(n)}break;case"Right":if(e)e.members[1].members[2].addMember(n);else{r=a.hLayout||[];a.hLayout=r,r.push(n)}break;case"Fill":e?e.members[1].members[1].addMember(n):a.fill=n;break;default:r=a.absLayout||[];a.absLayout=r,r.push(n)}}),0,this),a},getChildDock:function(t){return t&&t.getProperty?t.getProperty("Dock"):"None"},_getChildrenLayoutDirection:function(t){var e=t.vLayout,i=t.hLayout,a=t.fill,s=e&&e.length>0,n=i&&i.length>0,r=a&&a.length>0;if(s&&!n)return"vertical";if((n||r)&&!s)return"horizontal";var o=this.getOrginalRect();this.isOldWindowLayoutConfig&&this.isOldWindowLayoutConfig()?(o[0]=o[0]-this.LayoutLeftMargin-this.LayoutRightMargin,o[1]=o[1]-this.LayoutTopMargin-this.LayoutBottomMargin):"function"==typeof this._getChildRect&&(o=this._getChildRect());var h=null;return this._forEach(t.vLayout,(function(t){var e=t.Dock;if("Top"==e&&this._isFullDockTop(t,o)||"Bottom"==e&&this._isFullDockBottom(t,o))return h="vertical",!1}),0,this),null==h&&this._forEach(t.hLayout,(function(t){var e=t.Dock;if("Left"==e&&this._isFullDockLeft(t,o)||"Right"==e&&this._isFullDockRight(t,o))return h="horizontal",!1}),0,this),null==h&&(h=t.fill?t.vLayout?"vertical":"horizontal":"absolute"),h},_setDockChildRect:function(t){this._forEach(t.hLayout,(function(t){this._setHorizontalDockChildRect(t)}),0,this),this._forEach(t.vLayout,(function(t){this._setVerticalDockChildRect(t)}),0,this);var e=t.fill;e&&(e.setPercentWidth("100%"),e.setPercentHeight("100%"))},_layoutAbsChildren:function(t){var e=this.getContentAlignment();if("Vertical"==e){var i=[],a=[],s=[];this._sortByVertical(t),this._forEach(t,(function(t){switch(t&&t.getVerticalAlign?t.getVerticalAlign():"Top"){case"Top":i.push(t);break;case"Middle":a.push(t);break;case"Bottom":s.push(t)}t.layoutAlign=this._getHorizontalAlign(t)}),0,this),t=this._fillAbsoulteLayoutSpacer(i,a,s)}else if("Horizontal"==e){var n=[],r=[],o=[];this._sortByHorizontal(t),this._forEach(t,(function(t){switch(t&&t.getHorizontalAlign?t.getHorizontalAlign():"Left"){case"Left":n.push(t);break;case"Center":r.push(t);break;case"Right":o.push(t)}t.layoutAlign=this._getVerticalAlign(t)}),0,this),t=this._fillAbsoulteLayoutSpacer(n,r,o)}else"Table"==e&&(t.sort((function(t,e){var i=t.Top-e.Top;return 0!=i?i:t.Left-e.Left})),this._forEach(t,(function(t){t.setPercentWidth("100%")}),0,this));return t},_layoutAbsoluteChildren:function(t){var e=t.absLayout;return this._layoutAbsChildren(e)},_getVerticalAlign:function(t){var e=t&&t.getVerticalAlign?t.getVerticalAlign().toLowerCase():"top";return"middle"==e?"center":e},_getHorizontalAlign:function(t){return t&&t.getHorizontalAlign?t.getHorizontalAlign().toLowerCase():"left"},_createHorizontalLayoutByCatalog:function(t){var e,i,a=t.vLayout,s=t.hLayout,n=t.fill;if(this._sortByHorizontal(s),a&&a.length>0){var r=a[0].Left;this._sortByVertical(a),this._fillVerticalDockSpacer(a,n);var o=isc.VLayout.create({membersMargin:8,members:a}),h=-1;this._forEach(s,(function(t,e){var i=t.Left;if(r<i)return h=e,!1}),0,this),h=-1==h?s.length:h,s.splice(h,0,o)}else s=this._fillHorizontalDockSpacer(s,n);switch(this.Dock){case"Left":case"Right":e=this.MultiWidth.endsWith("%")?"100%":this._processRect(this.MultiWidth,"width"),i="100%";break;case"Top":case"Bottom":e="100%",i="100%";break;default:if("function"==typeof this._getChildRect){var c=this._getChildRect(this.getOrginalRect());e=this._processRect(c[0],"width"),i=this._processRect(c[1],"height")}else e=this._processRect(this.MultiWidth,"width"),i=this._processRect(this.MultiHeight,"height")}var l={defaultWidth:5,defaultHeight:5,membersMargin:"function"==typeof this.getMembersMargin?this.getMembersMargin():8,layoutMargin:"function"==typeof this.getLayoutMargin?this.getLayoutMargin():8,canFocus:!0,width:e,height:"Left"==this.Dock||"Right"==this.Dock?"100%":i,overflow:isc.Canvas.VISIBLE,members:s};return"function"==typeof this.resetLayoutMargin&&this.resetLayoutMargin(l),isc.HLayout.create(l)},_createVerticalLayoutByCatalog:function(t){var e="function"==typeof this.getMembersMargin?this.getMembersMargin():8,i="function"==typeof this.getLayoutMargin?this.getLayoutMargin():8,a=t.vLayout,s=t.hLayout,n=t.fill;if(this._sortByVertical(a),s&&s.length>0){var r=s[0].Top;this._sortByHorizontal(s),this._fillHorizontalDockSpacer(s,n);var o=isc.HLayout.create({membersMargin:e,members:s}),h=-1;this._forEach(a,(function(t,e){var i=t.Top;if(r<i)return h=e,!1}),0,this),h=-1==h?a.length:h,a.splice(h,0,o)}else this._fillVerticalDockSpacer(a,n);var c=scopeManager.getWindowScope();if(null!=c&&"vbase_prd_workflow"==c.getComponentCode()&&"PrdWorkFlowBizTableProcessOperate"==c.getWindowCode()){var l=isc.Canvas.create({width:"100%",height:1,top:"8px",className:"VSpecialLayout",contents:""});a.splice(1,0,l)}var u=this.MultiWidth;if("function"==typeof this._getChildRect&&u&&"space"!=u&&"content"!=u&&-1==u.indexOf("%"))try{var d=parseInt(u);u=isNaN(d)?this._processRect(u,"width"):this._getChildRect()[0]}catch(t){u=this._processRect(u,"width")}else u=this._processRect(u,"width");var g={defaultWidth:5,defaultHeight:5,membersMargin:e,layoutMargin:i,canFocus:!0,width:"Top"==this.Dock||"Bottom"==this.Dock?"100%":u,height:"JGTabControl"==this.getClassName()?"100%":this._processRect(this.MultiHeight,"height"),overflow:isc.Canvas.VISIBLE,members:a};return"function"==typeof this.resetLayoutMargin&&this.resetLayoutMargin(g),g.members=this.analyzeVLayoutChild(a),isc.VLayout.create(g)},analyzeVLayoutChild:function(t,e){if(!t||0==t.length)return t;for(var i=[],a=null,s=function(t){for(var e=this.Super("sectionIsExpanded",arguments),i=t.items,a=0,s=i.length;a<s;a++){var n=i[a];if(n.getContentElement&&n.getContentElement()&&n.getContentElement().parentElement&&n.getContentElement().parentElement.style){var r=n.getContentElement().parentElement.style,o="SectionStack"===window[$(n.getContentElement().parentElement).attr("eventproxy")].getClassName();e&&!o?(n._$sourceDisplay=r.display,r.display="none"):r.display=n._$sourceDisplay||""}}return e},n=function(t,e){this.Super("expandSection",arguments);for(var i=t.items,a=0,s=i.length;a<s;a++)!1===i[a].Visible&&i[a].hide()},r=function(t){var e=this.children;e&&e.callMethod("parentReadOnly",t)},o=function(t){var e=t.getSections();return e||(e=[]),e},h=function(t,e){var i=o(t);for(j=0,_sLen=i.length;j<_sLen;j++){var a=i[j],s=t.getSection(a);if(s){var n=s._$widgetCode;n&&e[n]&&e[n].setSectionStackInfo&&e[n].setSectionStackInfo({show:function(t,e){return function(){t.isVisible()||t.show(),t.showSection(e)}}(t,a),hide:function(t,e){return function(){t.hideSection(e);for(var i=o(t),a=!0,s=0,n=i.length;s<n;s++){var r=t.getSection(i[s]);r&&r.isVisible()&&(a=!1)}a&&t.hide()}}(t,a)})}}},c={},l=0,u=t.length;l<u;l++){var d=t[l],g=d.widgetId;if(c[g]=d,"function"==typeof d.isAssignLayout&&d.isAssignLayout()){null==a&&(a=[]);var f=d.buildSectionStackItem()||{};f._$widgetCode=g,a.push(f);var y={visibilityMode:"multiple",width:"100%",membersMargin:8,defaultHeight:5,vPolicy:"none",height:16,overflow:"visible",sectionIsExpanded:s,sections:a,expandSection:n,type:"JGSectionStack",parentReadOnly:r},p=d.MultiHeight;if(e&&"fill"==this.Dock||"100%"==p||"space"==p){y.vPolicy="fill",y.overflow="auto";try{delete y.height,delete y.defaultHeight}catch(t){}}else p.endsWith("%")?(y.vPolicy="fill",y.height=p):(p=parseInt(p))&&!isNaN(p)&&(y.height=p);h(L=isc.SectionStack.create(y),c),i.push(L),a=null}else{if(null!=a){y={visibilityMode:"multiple",width:"100%",membersMargin:8,defaultHeight:5,vPolicy:"none",height:16,overflow:"visible",sectionIsExpanded:s,sections:a,expandSection:n,type:"JGSectionStack",parentReadOnly:r};if(e&&"fill"==this.Dock){y.vPolicy="fill",y.overflow="auto";try{delete y.height,delete y.defaultHeight}catch(t){}}h(L=isc.SectionStack.create(y),c),i.push(L),a=null}i.push(d)}}if(null!=a){var L;y={visibilityMode:"multiple",width:"100%",membersMargin:8,defaultHeight:5,vPolicy:"none",height:16,overflow:"visible",sectionIsExpanded:s,sections:a,expandSection:n,type:"JGSectionStack",parentReadOnly:r};if(e&&"fill"==this.Dock){y.vPolicy="fill",y.overflow="auto";try{delete y.height,delete y.defaultHeight}catch(t){}}h(L=isc.SectionStack.create(y),c),i.push(L),a=null}return i},_getDiffDockIndexInfo:function(t){var e=-1,i=null,a=this;return this._forEach(t,(function(t,s){var n=a.getChildDock(t);if(null!=i&&i!=n)return e=s,!1;i=n}),0,this),{index:e,dock:i}},_hasPercentChild:function(t,e){var i=!1;return this._forEach(t,(function(t){var a=t[e];if("string"==typeof a&&a.endsWith("%"))return i=!0,!1})),i},_fillHorizontalDockSpacer:function(t,e){if(t&&t.length>0){var i=this._getDiffDockIndexInfo(t),a=i.index,s=i.dock;if(-1==a)if("Left"==s)e?t.push(e):this._hasPercentChild(t,"MultiWidth")&&t.push(isc.LayoutSpacer.create({}));else{var n=e||isc.LayoutSpacer.create({});t.splice(0,0,n)}else{n=e||isc.LayoutSpacer.create({});t.splice(a,0,n)}return t}if(e)return[e]},_fillVerticalDockSpacer:function(t,e){var i=this._getDiffDockIndexInfo(t),a=i.index,s=i.dock;if(-1==a)if("Top"==s)e?t.push(e):this._hasPercentChild(t,"MultiHeight")&&t.push(isc.LayoutSpacer.create({}));else{var n=e||isc.LayoutSpacer.create({});t.splice(0,0,n)}else{n=e||isc.LayoutSpacer.create({});t.splice(a,0,n)}},_fillAbsoulteLayoutSpacer:function(t,e,i){var a=[];if(e.length>0&&0==t.length&&0==i.length)return a.push(isc.LayoutSpacer.create({})),(a=a.concat(e)).push(isc.LayoutSpacer.create({})),a;for(var s=[],n=0,r=arguments.length;n<r;n++){(o=arguments[n])&&o.length>0&&(s=s.concat(o)),(n+1<r&&arguments[n+1]&&arguments[n+1].length>0||"vbase_prdbizframe"==this.componentCode&&"frameWindow"==this.windowCode)&&s.push(isc.LayoutSpacer.create({}))}for(n=0,r=s.length;n<r;n++){var o,h=(o=s[n]).getClassName?o.getClassName():null;for(a.push(o);s[n+1];){var c=s[n+1],l=c&&c.getClassName?c.getClassName():null;if("LayoutSpacer"!=h||"LayoutSpacer"!=l)break;n++}}return a},_setVerticalDockChildRect:function(t){t.setWidth("100%"),t.setPercentWidth&&t.setPercentWidth("100%");var e=t.MultiHeight;"content"==e||t.setHeight(e)},_setHorizontalDockChildRect:function(t){t.setHeight("100%"),t.setPercentHeight&&t.setPercentHeight("100%");var e=t.MultiWidth;"content"==e||t.setWidth(e)},_sortByHorizontal:function(t){t&&t.length>0&&t.sort((function(t,e){return t.Left-e.Left}))},_sortByVertical:function(t){t&&t.length>0&&t.sort((function(t,e){return t.Top-e.Top}))},_isChildrenFullHorizontal:function(t,e){var i=!0;return this._forEach(t,(function(t){if(!this._isFullDockRight(t,e))return i=!1,!1}),0,this),i},_isChildrenFullVertical:function(t,e){var i=!0;return this._forEach(t,(function(t){if(!this._isFullDockBottom(t,e))return i=!1,!1}),0,this),i},_isFullDockLeft:function(t,e){return this._isFullDockRight(t,e)},_isFullDockRight:function(t,e){return t.getOrginalRect()[1]==e[1]},_isFullDockTop:function(t,e){return this._isFullDockBottom(t,e)},_isFullDockBottom:function(t,e){return t.getOrginalRect()[0]==e[0]},initLayout:function(){this.LayoutType&&"BorderLayout"==this.LayoutType&&(this._Layout=this.createLayoutById(isc.WidgetUtils.genLayoutId(this.scopeId,this.getId())))},buildBorderLayoutById:function(t){var e={},i=0,a=0,s=0,n=0,r=0,o=0,h=0,c=0,l=isc.WidgetUtils.genLayoutId(this.scopeId,this.Code),u=isc.WidgetContext.getChildrenIds(this.scopeId,this.widgetId);if(u&&u.length>0)for(var d,g=0;d=u[g];g++){var f=isc.WidgetUtils.genWidgetRefId(this.scopeId,d),y=isc.JGWidgetManager.getWidget(f);if(y){this.addWidgets&&this.addWidgets(this,y),(this.ReadOnly||this.isReadOnly&&this.isReadOnly())&&y.parentReadOnly&&y.parentReadOnly(!0),(0==this.Enabled||this.isDisabled&&this.isDisabled())&&y.parentDisabled&&y.parentDisabled(!0);var p,L,_=y.getProperty("Dock"),v=y.getProperty("PercentWidth"),m=y.getProperty("PercentHeight");if(y.getOrginalRect){var b=y.getOrginalRect();p=b[0],L=b[1]}else p=y.getProperty("Width"),L=y.getProperty("Height");var C=y.getProperty("StaticLayoutSize");switch(_){case"Top":var M=t.getMember("Top_"+l);y.setPercentWidth("100%"),C||y.setPercentHeight("100%"),M.addMember(y),i+=parseFloat(m),r+=L,C?M.setHeight(r):M.setHeight(i+"%");break;case"Bottom":var k=t.getMember("Bottom_"+l);y.setPercentWidth("100%"),C||y.setPercentHeight("100%"),k.addMember(y),a+=parseFloat(m),o+=L,k.setHeight(o),C?k.setHeight(o):k.setHeight(a+"%");break;case"Left":var D=(W=t.getMember("Middle_"+l)).getMember("Left_"+l);C||y.setPercentWidth("100%"),y.setPercentHeight("100%"),D.addMember(y),s+=parseFloat(v),h+=p,C?D.setWidth(h):D.setWidth(s+"%"),W.setHeight(m);break;case"Right":var w=(W=t.getMember("Middle_"+l)).getMember("Right_"+l);C||y.setPercentWidth("100%"),y.setPercentHeight("100%"),w.addMember(y),n+=parseFloat(v),c+=p,C?w.setWidth(c):w.setWidth(n+"%"),W.setHeight(m);break;case"Fill":var W,H=(W=t.getMember("Middle_"+l)).getMember("Center_"+l);y.setPercentWidth("100%"),y.setPercentHeight("100%"),H.addMember(y),H.setWidth(v),W.setHeight(m);break;default:var I=e.absLayout||[];e.absLayout=I,I.push(y)}}}return 0==(W=t.getMember("Middle_"+l)).getHeight()&&W.setHeight(100-i-a+"%"),0==(H=W.getMember("Center_"+l)).getWidth()&&H.setWidth(100-s-n+"%"),e},createLayoutById:function(t){return isc.VLayout.create({autoDraw:!1,ID:"Layout_"+t,width:"100%",height:"100%",layoutLeftMargin:this.LayoutLeftMargin,layoutTopMargin:this.LayoutTopMargin,layoutRightMargin:this.LayoutRightMargin,layoutBottomMargin:this.LayoutBottomMargin,contents:"",canFocus:!0,members:[isc.VLayout.create({autoDraw:!1,ID:"Top_"+t,height:0,contents:"",canFocus:!0,members:[]}),isc.HLayout.create({autoDraw:!1,ID:"Middle_"+t,height:0,contents:"",canFocus:!0,members:[isc.HLayout.create({autoDraw:!1,ID:"Left_"+t,width:0,contents:"",canFocus:!0,members:[]}),isc.HLayout.create({autoDraw:!1,ID:"Center_"+t,width:0,contents:"",canFocus:!0,members:[]}),isc.HLayout.create({autoDraw:!1,ID:"Right_"+t,width:0,contents:"",canFocus:!0,members:[]})]}),isc.VLayout.create({autoDraw:!1,ID:"Bottom_"+t,zIndex:100002,overflow:isc.Canvas.HIDDEN,height:0,canFocus:!0,contents:"",members:[]})]})}}),isc.JGLayoutManager._useNewLayout=!0,isc.JGLayoutManager.addInterfaceMethods({_newLayoutChildren:function(t,e){e="boolean"!=typeof e||e;var i,a=[],s=this._splitChildren(t),n=s.dockChildren,r=s.absChildren,o=[],h=[],c=[];this._forEach(n,(function(t,e){var a=!0;return this._isFillDock(t)?(t.setPercentWidth&&t.setPercentWidth("100%"),t.setPercentHeight&&t.setPercentHeight("100%"),h.push(t)):this._isHLayoutChild(t)?(this._setHorizontalDockChildRect(t),i&&i!==isc.HLayout?(a=!1,h=h.concat(this._newLayoutChildren(n.splice(e),!1))):(i=isc.HLayout,this._appendMember(t,o,h,c))):this._isVLayoutChild(t)&&(this._setVerticalDockChildRect(t),i&&i!==isc.VLayout?(a=!1,h=h.concat(this._newLayoutChildren(n.splice(e),!1))):(i=isc.VLayout,this._appendMember(t,o,h,c))),a}),null,this);var l=o.concat(h).concat(c);if(l.length>0&&!i&&(i=isc.HLayout),i){var u="function"==typeof this.getMembersMargin?this.getMembersMargin():8,d="function"==typeof this.getLayoutMargin?this.getLayoutMargin():8;l=this._enhanceMemebrs(l);var g={defaultWidth:5,defaultHeight:5,membersMargin:u,layoutMargin:e?d:0,canFocus:!0,overflow:isc.Canvas.VISIBLE,width:"100%",height:"100%",members:"VLayout"==i.getClassName()?this.analyzeVLayoutChild(l):l};"function"==typeof this.resetLayoutMargin&&this.resetLayoutMargin(g),a.push(i.create(g))}return r.length>0&&(r=this._layoutAbsChildren(r)),a.concat(r)},_hasDock:function(t){var e=this.getChildDock(t);return e&&"none"!=e.toLowerCase()},_enhanceMemebrs:function(t){if(this._needFillSpacer(t))if(1==t.length)t.splice(0,0,isc.LayoutSpacer.create({}));else{var e=null;this._forEach(t,(function(i,a){var s=i.Dock;if(null===e)e=s;else if(s!=e)return t.splice(a,0,isc.LayoutSpacer.create({})),!1}))}return t},_needFillSpacer:function(t){var e=!0,i="unset",a=["Left","Right"],s=["Top","Bottom"];if(1==t.length){var n=t[0].Dock;return"Right"==n||"Bottom"==n}return this._forEach(t,(function(t){var n=t.Dock;if("Fill"==n||void 0===n)return e=!1,!1;if("unset"==i)i=n;else if(-1!=a.indexOf(i)&&-1!=s.indexOf(n)||-1!=a.indexOf(n)&&-1!=s.indexOf(i))return e=!1,!1})),e},_getLayoutType:function(t){var e="horizontal";return this._forEach(t,(function(t){return this._isVLayoutChild(t)?(e="vertical",!1):this._isHLayoutChild(t)?(e="horizontal",!1):void 0}),null,this),e},_splitChildren:function(t){var e={dockChildren:[],absChildren:[]};return this._forEach(t,(function(t){this._hasDock(t)?e.dockChildren.push(t):e.absChildren.push(t)}),null,this),e},_appendMember:function(t,e,i,a){if(this._isHeadMember(t))e.push(t);else if(this._isTailMember(t))a.push(t);else{if(!this._isCenterMember(t))throw Error("未识别控件布局类型！");i.push(t)}},_isHeadMember:function(t){var e=this.getChildDock(t);return"Top"==e||"Left"==e},_isTailMember:function(t){var e=this.getChildDock(t);return"Bottom"==e||"Right"==e},_isCenterMember:function(t){return"Fill"==this.getChildDock(t)},_isHLayoutChild:function(t){var e=this.getChildDock(t);return"Left"==e||"Right"==e},_isVLayoutChild:function(t){var e=this.getChildDock(t);return"Top"==e||"Bottom"==e},_isFillDock:function(t){return"Fill"==this.getChildDock(t)}})}));
