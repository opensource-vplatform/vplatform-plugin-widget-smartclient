!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";isc.ClassFactory.defineClass("JGLinkLabel","JGBaseWidget"),isc.ClassFactory.mixInInterface("JGLinkLabel","JGStyleHelper"),isc.JGLinkLabel.addProperties({Top:null,Left:null,Width:59,Height:15,Enabled:!0,TabIndex:1,className:"JGLinkLabelNormal",WebPara:null,SimpleChineseTitle:null,currentContent:null,BackColor:null,ForeColor:null,TextAlign:null,WebURL:null,Target:null,WidgetStyle:"JGLinkLabel",listener:["click"]}),isc.JGLinkLabel.addMethods({_initWidget:function(){var t=""!=this.WebURL&&this.Enabled?this.WidgetStyle+"isSelectedEventLinkUp":this.WidgetStyle+"isSelectedEventLink";this.className=this.WidgetStyle+"Normal",this.ink=isc.Label.create({id:this.id,align:this.TextAlign,width:this.Width,height:this.Height,disabled:!this.Enabled,tabIndex:this.TabIndex,contents:this.genTitleContent(this.SimpleChineseTitle),overflow:isc.Canvas.HIDDEN,backgroundColor:this.BackColor,cssText:this.genFontCssText(this.FontStyle,this.ForeColor)+"word-break: break-all;",title:this.SimpleChineseTitle,click:this._referEvent(this,"click"),canHover:!0,baseStyle:t,canFocus:!0,isDisabled:function(){return this.disabled},getHoverTarget:function(t,e){return this.parentElement.fireEvent("mouseOver"),this.Super("getHoverTarget",arguments)}}),this.addChild(this.ink),this.Enabled||this.setDisabled(!this.Enabled)},_afterInitWidget:function(){var t=this;this.WebURL?this.on("click",(function(){t.linkToUrl()})):this.on("click",this.OnClick)},linkToUrl:function(){var t=this.getWebParam(),e=this.getWebURL();if(e){var i=-1!=e.indexOf("?")?"&":"?",s=e+i+(t&&t.length>0?t:""),n=this.getTarget();null==n||"_Blank"==n?window.open(s):"_Self"==n&&(window.location.href=s)}},setTips:function(t){this.ink.prompt=t},isDisabled:function(t){return this.disabled},setDisabled:function(t){t||this.parentWidget&&this.parentWidget.isDisabled()?(this.ink.cssText=this.genFontCssText(this.FontStyle,this.ForeColor,!1),this.ink.setStyleName(this.WidgetStyle+"isSelectedEventLinkDisabled")):(this.ink.cssText=this.genFontCssText(this.FontStyle,this.ForeColor),this.ink.setStyleName(this.WidgetStyle+"isSelectedEventLink")),this.ink.redraw(),this.ink.setDisabled(t),this.disabled=t},isEnabled:function(){return this.Enabled},parentDisabled:function(t){t||this.parentWidget.isDisabled()?(this.ink.cssText=this.genFontCssText(this.FontStyle,this.ForeColor,!1),this.ink.setStyleName(this.WidgetStyle+"isSelectedEventLinkDisabled")):(this.ink.cssText=this.genFontCssText(this.FontStyle,this.ForeColor),this.ink.setStyleName(this.WidgetStyle+"isSelectedEventLink")),this.ink.redraw(),this.ink.setEnabled(t)},setEnabled:function(t){!t||this.parentWidget.isDisabled()?(this.ink.cssText=this.genFontCssText(this.FontStyle,this.ForeColor,!1),this.ink.setStyleName(this.WidgetStyle+"isSelectedEventLinkDisabled")):(this.ink.cssText=this.genFontCssText(this.FontStyle,this.ForeColor),this.ink.setStyleName(this.WidgetStyle+"isSelectedEventLink")),this.ink.redraw(),this.ink.setEnabled(t)},setSimpleChineseTitle:function(t){this.ink.setContents(t),this.SimpleChineseTitle=t},getSimpleChineseTitle:function(){return this.SimpleChineseTitle},getBackColor:function(){return this.BackColor},setBackColor:function(t){t=this.parseColor(t),this.BackColor=t;var e=this.cssTextExtend(this.ink.cssText,{background:t});this.ink.cssText=e,this.ink.setBackgroundColor(t)},getForeColor:function(){return this.ForeColor},setForeColor:function(t){t=this.parseColor(t),this.ForeColor=t;var e=this.cssTextExtend(this.ink.cssText,{color:t});this.ink.cssText=e,this.ink.markForRedraw()},setFontStyle:function(t){t=this.parseFontStyle(t),this.FontStyle=t;var e=this.cssTextExtend(this.ink.cssText,t,!0);this.ink.cssText=e,this.ink.markForRedraw()},getWebURL:function(){return this.WebURL},getWebParam:function(){var t=this.WebParam,e=isc.JSON.decode(t),i="";if(e&&e.NewDataSet&&e.NewDataSet.dtParameter){var s=e.NewDataSet.dtParameter;if(s)if(s.length)for(var n=0,l=s.length;n<l;n++){t=s[n];i+=this.parseParam(t),n+1<l&&(i+="&")}else i+=this.parseParam(s)}return i},getTarget:function(){return this.Target},setParam:function(t){this.setParam(t)},reload:function(t){window.reload(t)},changeUrl:function(t){this.WebURL=t},parseParam:function(t){var e=t.ParaType,i=t.ParaVariane,s=t.ParaName,n="",l="";switch(e){case"SystemVar":n="@@"+i;break;case"ComponentVar":n="@"+i;break;case"Field":for(var a=i.split("."),r=0,o=a.length;r<o;r++)n+="["+a[r]+"]",0===r&&(n+=".");break;default:n='"'+i+'"'}return n=this._expressionHandler(n),l+=s,l+="=",l+=encodeURIComponent(n)},setPercentWidth:function(t){this.Super("setPercentWidth",arguments),this.ink.setWidth("100%")},setPercentHeight:function(t){this.Super("setPercentHeight",arguments),this.ink.setHeight("100%")},setIndexPreJoinComponentIndex:function(t){var e=this.ink.getTabIndex();this.ink.setTabIndex(parseInt(t+e))},destroy:function(){this.ink=null,this.Super("destroy",arguments)},parentReadOnly:function(t){this.setDisabled(t)}})}));
